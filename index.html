<!DOCTYPE html>
<html lang="bn" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BoiCloud | বইক্লাউড - অনলাইন লাইব্রেরি</title>

  <link rel="icon" type="image/svg+xml"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M17.5 19C20.5376 19 23 16.5376 23 13.5C23 10.4624 20.5376 8 17.5 8C17.2282 8 16.9632 8.01977 16.7042 8.05791C15.6841 5.64243 13.284 4 10.5 4C6.91015 4 4 6.91015 4 10.5C4 10.742 4.0133 10.9809 4.03914 11.2158C2.26425 12.0232 1 13.8152 1 15.9C1 18.7167 3.28335 21 6.1 21H17.5V19Z' fill='%2310b981'/%3E%3Cpath d='M8 13.5C8 12.9477 8.44772 12.5 9 12.5H12V16.5H9C8.44772 16.5 8 16.0523 8 15.5V13.5Z' fill='%23059669'/%3E%3Cpath d='M16 13.5C16 12.9477 15.5523 12.5 15 12.5H12V16.5H15C15.5523 16.5 16 16.0523 16 15.5V13.5Z' fill='%232dd4bf'/%3E%3C/svg%3E">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          screens: { xs: '480px' },
          fontFamily: { bengali: ['"Hind Siliguri"', 'sans-serif'] },
          colors: { brand: { 500:'#10b981', 600:'#059669', 700:'#047857' } }
        }
      }
    }
  </script>

  <style>
    body { font-family: 'Hind Siliguri', sans-serif; -webkit-tap-highlight-color: transparent; }
    .glass-effect { backdrop-filter: blur(12px); background: rgba(255, 255, 255, 0.8); }
    .dark .glass-effect { background: rgba(15, 23, 42, 0.8); }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    .hero-gradient { background: linear-gradient(to bottom, rgba(15,23,42,.7), rgba(15,23,42,.35), rgba(15,23,42,.85)); }
  </style>
</head>

<body class="bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100 transition-colors duration-300 antialiased overflow-x-hidden">
  <script src="books-data.js"></script>

  <header class="sticky top-0 z-50 glass-effect border-b border-slate-200 dark:border-slate-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" id="search-area">

      <div class="flex justify-between items-center h-16 sm:h-20">
        <a href="index.html" class="flex items-center gap-3 group">
          <svg class="w-10 h-10 sm:w-12 sm:h-12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.5 19C20.5376 19 23 16.5376 23 13.5C23 10.4624 20.5376 8 17.5 8C17.2282 8 16.9632 8.01977 16.7042 8.05791C15.6841 5.64243 13.284 4 10.5 4C6.91015 4 4 6.91015 4 10.5C4 10.742 4.0133 10.9809 4.03914 11.2158C2.26425 12.0232 1 13.8152 1 15.9C1 18.7167 3.28335 21 6.1 21H17.5V19Z" class="fill-brand-500/10 stroke-brand-500 dark:fill-brand-700/20 dark:stroke-brand-500" stroke-width="1.5"/>
            <path d="M8 13.5C8 12.9477 8.44772 12.5 9 12.5H12V16.5H9C8.44772 16.5 8 16.0523 8 15.5V13.5Z" class="fill-brand-600"/>
            <path d="M16 13.5C16 12.9477 15.5523 12.5 15 12.5H12V16.5H15C15.5523 16.5 16 16.0523 16 15.5V13.5Z" class="fill-teal-400"/>
          </svg>

          <h1 class="text-xl sm:text-3xl font-black tracking-tighter whitespace-nowrap">
            <span class="text-slate-800 dark:text-white">Boi</span><span class="bg-gradient-to-r from-brand-600 to-teal-500 bg-clip-text text-transparent">Cloud</span>
          </h1>
        </a>

        <div class="hidden md:flex items-center gap-2 ml-4">
          <button id="nav-home" class="px-3 py-2 rounded-full text-xs font-bold border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:border-brand-500/50 transition-colors">
            <i data-lucide="home" class="w-4 h-4 inline -mt-0.5 mr-1"></i> Home
          </button>
          <button id="nav-categories" class="px-3 py-2 rounded-full text-xs font-bold border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:border-brand-500/50 transition-colors">
            <i data-lucide="grid" class="w-4 h-4 inline -mt-0.5 mr-1"></i> Categories
          </button>
        </div>

        <div class="hidden md:flex flex-1 max-w-md mx-6 relative">
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400">
            <i data-lucide="search" class="w-5 h-5"></i>
          </div>
          <input id="search-input" type="text" placeholder="বই সার্চ করুন..."
            class="block w-full pl-10 pr-10 py-2 border border-slate-200 dark:border-slate-700 rounded-full bg-slate-50 dark:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-brand-500/50 transition-all text-sm"
            autocomplete="off" />
          <button id="search-clear" class="hidden absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-700 dark:hover:text-slate-200">
            <i data-lucide="x-circle" class="w-5 h-5"></i>
          </button>
        </div>

        <div class="flex items-center gap-2">
          <button id="dark-mode-toggle" class="p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-slate-600 dark:text-slate-400"></button>
        </div>
      </div>

      <div class="md:hidden pb-4 flex items-center gap-2">
        <button id="nav-categories-m" class="shrink-0 px-3 py-2 rounded-full text-xs font-bold border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:border-brand-500/50 transition-colors">
          <i data-lucide="grid" class="w-4 h-4"></i>
        </button>

        <div class="relative w-full">
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400">
            <i data-lucide="search" class="w-4 h-4"></i>
          </div>
          <input id="search-input-mobile" type="text" placeholder="বই / লেখক / ক্যাটাগরি..."
            class="block w-full pl-9 pr-10 py-2 border border-slate-200 dark:border-slate-700 rounded-full bg-slate-50 dark:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-brand-500/50 transition-all text-sm"
            autocomplete="off" />
          <button id="search-clear-mobile" class="hidden absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-700 dark:hover:text-slate-200">
            <i data-lucide="x-circle" class="w-5 h-5"></i>
          </button>
        </div>
      </div>

    </div>
  </header>

  <main>
    <section class="relative h-[48vh] sm:h-[70vh] flex items-center justify-center overflow-hidden">
      <div class="absolute inset-0">
        <img src="https://images.unsplash.com/photo-1507842217343-583bb7270b66?auto=format&fit=crop&q=80&w=2000"
             class="w-full h-full object-cover" alt="bg">
        <div class="absolute inset-0 hero-gradient"></div>
      </div>

      <div class="relative z-10 max-w-6xl mx-auto px-6 text-center">
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-brand-500/20 backdrop-blur-md text-brand-200 text-[10px] sm:text-xs font-medium mb-6 border border-white/10">
          <i data-lucide="sparkles" class="w-4 h-4"></i>
          <span>অনলাইন লাইব্রেরি • বইয়ের বিশাল সংগ্রহ</span>
        </div>

        <h2 class="text-3xl sm:text-6xl font-black text-white mb-5 leading-tight drop-shadow-2xl">
          বইয়ের জগতে আপনাকে স্বাগতম
        </h2>

        <p class="text-sm sm:text-xl text-slate-200 max-w-2xl mx-auto mb-8 leading-relaxed font-light">
          বই দেখুন, বিস্তারিত দেখুন, আর এক ক্লিকেই অন্য বইতে চলে যান।
        </p>

        <button id="explore-books-btn"
          class="px-8 py-4 bg-brand-600 hover:bg-brand-700 text-white rounded-2xl font-black text-base transition-all shadow-xl shadow-brand-500/30 active:scale-95 inline-flex items-center gap-2">
          <i data-lucide="compass" class="w-5 h-5"></i> বই দেখুন
        </button>
      </div>
    </section>

    <section id="books-grid" class="max-w-7xl mx-auto px-4 py-12 sm:py-16 scroll-mt-20">
      <div class="mb-8 flex flex-col gap-6">
        <div class="flex items-center justify-between gap-4 flex-wrap">
          <div class="flex items-center gap-4">
            <div class="p-3 bg-brand-500/10 rounded-2xl text-brand-600">
              <i data-lucide="library" class="w-7 h-7"></i>
            </div>
            <div>
              <h2 class="text-2xl sm:text-3xl font-black">বইয়ের সংগ্রহ</h2>
              <p class="text-slate-500 text-xs sm:text-sm uppercase tracking-widest font-bold">
                মোট <span id="book-count">0</span>টি বই
              </p>
            </div>
          </div>
        </div>

        <div id="category-buttons" class="flex gap-3 overflow-x-auto pb-3 no-scrollbar scroll-smooth px-1"></div>
      </div>

      <div id="books-container" class="grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 sm:gap-8"></div>
    </section>
  </main>

  <footer class="bg-white dark:bg-slate-900 border-t dark:border-slate-800 pt-10 pb-0">
    <div class="max-w-7xl mx-auto px-8 pb-8">
      <div class="flex flex-wrap gap-x-6 gap-y-3 justify-center md:justify-start text-sm text-slate-500 dark:text-slate-400">
        <span id="link-home" class="hover:text-brand-600 cursor-pointer transition-colors inline-flex items-center gap-2"><i data-lucide="home" class="w-4 h-4"></i> হোম</span>
        <span id="link-books" class="hover:text-brand-600 cursor-pointer transition-colors inline-flex items-center gap-2"><i data-lucide="book-open" class="w-4 h-4"></i> বইয়ের তালিকা</span>
        <span id="link-category" class="hover:text-brand-600 cursor-pointer transition-colors inline-flex items-center gap-2"><i data-lucide="grid" class="w-4 h-4"></i> ক্যাটাগরি</span>
        <span id="link-contact" class="hover:text-brand-600 cursor-pointer transition-colors inline-flex items-center gap-2"><i data-lucide="mail" class="w-4 h-4"></i> যোগাযোগ</span>
      </div>
    </div>

    <div class="border-t border-slate-200 dark:border-slate-800">
      <div class="max-w-7xl mx-auto px-4 sm:px-8 py-6 flex flex-col md:flex-row items-center justify-between gap-4">
        <div class="text-sm text-slate-500 dark:text-slate-400 font-medium">
          &copy; <span id="current-year"></span>
          <span class="ml-2 px-3 py-1 rounded-xl border border-brand-500/20 bg-slate-900/90 dark:bg-slate-900/60 shadow-sm">
            <span class="font-black tracking-tight whitespace-nowrap">
              <span class="text-white">Boi</span><span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-600 via-teal-400 to-brand-600">Cloud</span>
            </span>
          </span>
          <span class="ml-2">All rights reserved.</span>
        </div>

        <div class="flex items-center gap-2">
          <span class="text-[10px] uppercase tracking-[3px] text-slate-400 dark:text-slate-500 font-bold whitespace-nowrap">Powered by</span>
          <div class="flex items-center gap-1 px-3 py-1.5 rounded-lg bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-sm">
            <i data-lucide="sparkles" class="w-4 h-4 text-brand-600"></i>
            <span class="text-sm font-black tracking-tight whitespace-nowrap">
              <span class="text-slate-800 dark:text-slate-200">Arif</span><span class="bg-gradient-to-r from-brand-600 to-teal-500 bg-clip-text text-transparent">icial</span>
            </span>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
    lucide.createIcons();

    // Theme
    function initializeDarkMode() {
      const savedTheme = localStorage.getItem('boicloud-theme');
      if (savedTheme === null) {
        document.documentElement.classList.add('dark');
        localStorage.setItem('boicloud-theme', 'dark');
        return true;
      }
      const isDark = savedTheme === 'dark';
      document.documentElement.classList.toggle('dark', isDark);
      return isDark;
    }
    function updateDarkModeToggle(isDark) {
      const btn = document.getElementById('dark-mode-toggle');
      if (!btn) return;
      btn.innerHTML = isDark
        ? '<i data-lucide="sun" class="w-5 h-5 text-yellow-300"></i>'
        : '<i data-lucide="moon" class="w-5 h-5 text-slate-700"></i>';
      lucide.createIcons();
    }
    function toggleDarkMode() {
      const html = document.documentElement;
      const isDark = html.classList.contains('dark');
      html.classList.toggle('dark', !isDark);
      localStorage.setItem('boicloud-theme', !isDark ? 'dark' : 'light');
      updateDarkModeToggle(!isDark);
    }

    // Helpers
    const escapeHtml = (s) => String(s ?? '')
      .replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;')
      .replaceAll('"','&quot;').replaceAll("'",'&#039;');

    function normalizeBooks(list) {
      return (list || []).map(b => {
        const book = { ...b };
        if (!book.categories || !Array.isArray(book.categories) || book.categories.length === 0) {
          if (book.category && typeof book.category === 'string') book.categories = [book.category];
          else book.categories = ['অন্যান্য'];
        }
        book.category = book.categories[0] || 'অন্যান্য';
        return book;
      });
    }

    const BOOKS_DATA = normalizeBooks(window.BOOKS_DATA || []);
    const CATEGORIES = ['সবগুলো', 'উপন্যাস', 'থ্রিলার', 'কবিতা', 'ইসলামিক', 'সায়েন্স ফিকশন', 'সাহিত্য', 'ভৌতিক', 'জীবনী', 'অন্যান্য'];

    function scrollToEl(id) {
      const el = document.getElementById(id);
      if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function initializeCategoryButtons() {
      const container = document.getElementById('category-buttons');
      if (!container) return;

      container.innerHTML = CATEGORIES.map(cat => `
        <button class="category-btn px-6 py-2.5 rounded-full text-sm font-bold whitespace-nowrap transition-all active:scale-95
          ${cat === 'সবগুলো'
            ? 'active bg-brand-600 text-white shadow-xl shadow-brand-500/30'
            : 'bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-800 hover:border-brand-500/50'}"
          data-category="${escapeHtml(cat)}">
          ${cat === 'সবগুলো' ? '<i data-lucide="grid" class="w-4 h-4 inline mr-2"></i>' : ''}
          ${escapeHtml(cat)}
        </button>
      `).join('');

      document.querySelectorAll('.category-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          document.querySelectorAll('.category-btn').forEach(b => {
            b.classList.remove('active','bg-brand-600','text-white','shadow-xl','shadow-brand-500/30');
            b.classList.add('bg-white','dark:bg-slate-900','text-slate-600','dark:text-slate-300','border','border-slate-200','dark:border-slate-800');
          });
          this.classList.add('active','bg-brand-600','text-white','shadow-xl','shadow-brand-500/30');
          this.classList.remove('bg-white','dark:bg-slate-900','text-slate-600','dark:text-slate-300','border','border-slate-200','dark:border-slate-800');
          filterBooks();
        });
      });

      lucide.createIcons();
    }

    function getSelectedCategory() {
      const active = document.querySelector('.category-btn.active');
      return active ? active.dataset.category : 'সবগুলো';
    }

    function renderBooks(list) {
      const container = document.getElementById('books-container');
      if (!container) return;

      container.innerHTML = list.map(book => {
        const catLabel = book.categories?.length > 1 ? `${book.categories[0]} +${book.categories.length - 1}` : (book.category || 'অন্যান্য');

        // ✅ ENTIRE CARD CLICKABLE — NO read/download buttons
        return `
          <a href="book.html?id=${encodeURIComponent(book.id)}"
             class="group block bg-white dark:bg-slate-900 rounded-3xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-lg hover:-translate-y-2 transition-all duration-300">
            <div class="aspect-[2/3] relative overflow-hidden">
              <img src="${book.coverImage}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" loading="lazy" alt="${escapeHtml(book.title)}" />
              <div class="absolute top-3 left-3 z-10">
                <span class="px-3 py-1 bg-white/90 dark:bg-slate-900/90 backdrop-blur-sm text-brand-600 text-[10px] font-bold rounded-full border border-slate-100 dark:border-slate-800 shadow-sm">
                  ${escapeHtml(catLabel)}
                </span>
              </div>
              <div class="absolute inset-0 bg-gradient-to-t from-black/75 via-black/15 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                <div class="px-4 py-2 rounded-full bg-white/10 border border-white/20 backdrop-blur-md text-white text-xs font-bold flex items-center gap-2">
                  <i data-lucide="arrow-right" class="w-4 h-4"></i> বিস্তারিত দেখুন
                </div>
              </div>
            </div>

            <div class="p-5">
              <h3 class="text-lg font-black text-slate-900 dark:text-white line-clamp-1 group-hover:text-brand-600 transition-colors">
                ${escapeHtml(book.title)}
              </h3>
              <p class="text-slate-500 dark:text-slate-400 text-sm font-medium mt-1 line-clamp-1">
                <i data-lucide="user" class="w-3 h-3 inline mr-1"></i> ${escapeHtml(book.author)}
              </p>
              ${book.description ? `
                <p class="text-slate-400 dark:text-slate-500 text-xs italic mt-2 line-clamp-2">
                  <i data-lucide="info" class="w-3 h-3 inline mr-1"></i> ${escapeHtml(book.description)}
                </p>
              ` : ''}
            </div>
          </a>
        `;
      }).join('');

      lucide.createIcons();
    }

    function filterBooks() {
      const q = (document.getElementById('search-input')?.value || '').trim().toLowerCase();
      const cat = getSelectedCategory();
      const filtered = BOOKS_DATA.filter(b => {
        const hay = [b.title, b.author, b.description || '', (b.categories || []).join(' ')].join(' ').toLowerCase();
        const okQ = !q || hay.includes(q);
        const okC = cat === 'সবগুলো' || (b.categories || []).includes(cat);
        return okQ && okC;
      });

      document.getElementById('book-count').textContent = filtered.length;
      renderBooks(filtered);
    }

    function bindSearch() {
      const main = document.getElementById('search-input');
      const mob = document.getElementById('search-input-mobile');
      const c1 = document.getElementById('search-clear');
      const c2 = document.getElementById('search-clear-mobile');

      const sync = (from, to) => { if (from && to) to.value = from.value; };
      const onInput = () => {
        const q = (main?.value || '').trim();
        c1?.classList.toggle('hidden', !q);
        c2?.classList.toggle('hidden', !q);
        filterBooks();
      };

      main?.addEventListener('input', () => { sync(main, mob); onInput(); });
      mob?.addEventListener('input', () => { sync(mob, main); onInput(); });

      c1?.addEventListener('click', () => { if(main) main.value=''; if(mob) mob.value=''; onInput(); main?.focus(); });
      c2?.addEventListener('click', () => { if(mob) mob.value=''; if(main) main.value=''; onInput(); mob?.focus(); });
    }

    function bindFooterLinks() {
      document.getElementById('link-home')?.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
      document.getElementById('link-books')?.addEventListener('click', () => scrollToEl('books-grid'));
      document.getElementById('link-category')?.addEventListener('click', () => scrollToEl('category-buttons'));
      document.getElementById('link-contact')?.addEventListener('click', () => location.href = "https://mail.google.com/mail/?view=cm&fs=1&to=html.arif@gmail.com");
    }

    function init() {
      const isDark = initializeDarkMode();
      updateDarkModeToggle(isDark);
      document.getElementById('dark-mode-toggle')?.addEventListener('click', toggleDarkMode);

      initializeCategoryButtons();
      bindSearch();
      bindFooterLinks();

      document.getElementById('nav-home')?.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
      document.getElementById('nav-categories')?.addEventListener('click', () => scrollToEl('category-buttons'));
      document.getElementById('nav-categories-m')?.addEventListener('click', () => scrollToEl('category-buttons'));
      document.getElementById('explore-books-btn')?.addEventListener('click', () => scrollToEl('books-grid'));

      document.getElementById('current-year').textContent = new Date().getFullYear();
      document.getElementById('book-count').textContent = BOOKS_DATA.length;

      renderBooks(BOOKS_DATA);
    }

    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
